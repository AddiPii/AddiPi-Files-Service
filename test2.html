<input id="file" type="file" name="file" accept=".gcode" />
<input id="scheduledAt" type="text" placeholder="2025-12-01T12:00:00" />
<button id="send">Upload (with auth)</button>

<script>
document.getElementById('send').addEventListener('click', async () => {
  const fileInput = document.getElementById('file');
  if (!fileInput.files.length) { alert('Choose a file'); return; }
  const form = new FormData();
  form.append('file', fileInput.files[0]);
  form.append('scheduledAt', document.getElementById('scheduledAt').value);

  const token = prompt('Enter Bearer token:'); // albo wprowadź stały token
  const resp = await fetch('http://localhost:5000/upload', {
    method: 'POST',
    headers: {
      'Authorization': 'Bearer ' + token
    },
    body: form
  });
  const data = await resp.json();
  alert('Status: ' + resp.status + '\\n' + JSON.stringify(data));
});
</script>